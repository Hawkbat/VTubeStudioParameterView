{"version":3,"sources":["utils.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["BufferedWebsocket","url","protocols","ws","_url","_protocols","bufferedSends","eventListeners","Map","reconnectHandle","reconnectTimeout","onopen","onmessage","onerror","onclose","this","performReconnect","v","protocol","readyState","binaryType","bufferedAmount","extensions","CLOSED","CLOSING","CONNECTING","OPEN","type","listener","options","listeners","get","push","set","addEventListener","index","findIndex","l","capture","splice","removeEventListener","event","dispatchEvent","code","reason","close","data","send","unshift","prev","next","WebSocket","reconnect","entries","ev","length","pop","e","console","error","clearTimeout","setTimeout","Math","min","max","TOKEN_KEY","FILTER_KEY","FAVORITES_KEY","round","n","App","useState","connected","setConnected","parameters","setParameters","setError","localStorage","getItem","filter","setFilter","JSON","parse","reduce","p","c","favorites","setFavorites","filterRef","useRef","useEffect","bus","WebSocketBus","client","ApiClient","initialToken","undefined","plugin","Plugin","token","setItem","runToken","active","f","a","apiClient","live2DParameterList","modelLoaded","requestAnimationFrame","key","current","focus","substr","window","filteredParams","name","toLowerCase","includes","sortedParams","sort","b","className","ref","defaultValue","onChange","changeFilter","target","value","style","display","gridTemplateColumns","map","i","onClick","result","stringify","Object","keys","toggleFave","step","readOnly","title","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.39422dc0.chunk.js","sourcesContent":["\r\nexport class BufferedWebsocket implements WebSocket {\r\n    ws!: WebSocket\r\n\r\n    private _url: string\r\n    private _protocols: string | string[] | undefined\r\n    private bufferedSends: (string | ArrayBufferLike | Blob | ArrayBufferView)[] = []\r\n    private eventListeners: Map<string, { listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions }[]> = new Map()\r\n    private reconnectHandle: any | null = null\r\n    private reconnectTimeout = 0\r\n\r\n    get url() { return this._url }\r\n    set url(v: string) {\r\n        if (v !== this._url) {\r\n            this._url = v\r\n            this.performReconnect()\r\n        }\r\n    }\r\n\r\n    get protocol(): string { return this.ws.protocol }\r\n    get readyState(): number { return this.ws.readyState }\r\n\r\n    get binaryType(): BinaryType { return this.ws.binaryType }\r\n    set binaryType(binaryType: BinaryType) { this.ws.binaryType = binaryType }\r\n    get bufferedAmount(): number { return this.ws.bufferedAmount }\r\n    get extensions(): string { return this.ws.extensions }\r\n\r\n    get CLOSED(): number { return this.ws.CLOSED }\r\n    get CLOSING(): number { return this.ws.CLOSING }\r\n    get CONNECTING(): number { return this.ws.CONNECTING }\r\n    get OPEN(): number { return this.ws.OPEN }\r\n\r\n    constructor(url: string, protocols?: string | string[]) {\r\n        this._url = url\r\n        this._protocols = protocols\r\n        this.performReconnect()\r\n    }\r\n\r\n    onopen: ((this: WebSocket, ev: Event) => any) | null = null\r\n    onmessage: ((this: WebSocket, ev: MessageEvent<any>) => any) | null = null\r\n    onerror: ((this: WebSocket, ev: Event) => any) | null = null\r\n    onclose: ((this: WebSocket, ev: CloseEvent) => any) | null = null\r\n\r\n    addEventListener<K extends keyof WebSocketEventMap>(type: K, listener: (this: WebSocket, ev: WebSocketEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void\r\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void\r\n    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void {\r\n        const listeners = this.eventListeners.get(type) ?? []\r\n        listeners.push({ listener, options })\r\n        this.eventListeners.set(type, listeners)\r\n        this.ws.addEventListener(type, listener, options)\r\n    }\r\n\r\n    removeEventListener<K extends keyof WebSocketEventMap>(type: K, listener: (this: WebSocket, ev: WebSocketEventMap[K]) => any, options?: boolean | EventListenerOptions): void\r\n    removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void\r\n    removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void {\r\n        const listeners = this.eventListeners.get(type) ?? []\r\n        const index = listeners.findIndex(l => l.listener === listener && (l.options === options || (typeof l.options === 'object' && typeof options === 'object' && l.options.capture === options.capture)))\r\n        if (index >= 0) listeners.splice(index, 1)\r\n        this.ws.removeEventListener(type, listener, options)\r\n    }\r\n\r\n    dispatchEvent(event: Event): boolean {\r\n        return this.ws.dispatchEvent(event)\r\n    }\r\n\r\n    close(code?: number, reason?: string): void {\r\n        this.ws.close(code, reason)\r\n    }\r\n\r\n    send(data: string | ArrayBufferLike | Blob | ArrayBufferView): void {\r\n        if (this.ws.readyState === this.ws.OPEN) {\r\n            this.ws.send(data)\r\n        } else {\r\n            this.bufferedSends.unshift(data)\r\n        }\r\n    }\r\n\r\n    private performReconnect() {\r\n        try {\r\n            const prev: WebSocket | undefined = this.ws\r\n            if (prev && prev.readyState === prev.OPEN) prev.close(3012, 'Reconnecting')\r\n\r\n            // Terrible hack to guarantee that the first websocket will always be instantiated successfully\r\n            const next = new WebSocket(prev ? this._url : 'wss://echo.websocket.org', this._protocols)\r\n\r\n            next.binaryType = prev?.binaryType ?? next.binaryType\r\n            next.onopen = prev?.onopen ?? next.onopen\r\n            next.onmessage = prev?.onmessage ?? next.onmessage\r\n            next.onerror = prev?.onerror ?? next.onerror\r\n            next.onclose = prev?.onclose ?? next.onclose\r\n\r\n            this.ws = next\r\n            if (!prev) this.reconnect()\r\n\r\n            for (const [type, listeners] of this.eventListeners.entries()) {\r\n                for (const listener of listeners) {\r\n                    if (prev) prev.removeEventListener(type, listener.listener, listener.options)\r\n                    next.addEventListener(type, listener.listener, listener.options)\r\n                }\r\n            }\r\n            next.addEventListener('open', ev => {\r\n                if (next !== this.ws) {\r\n                    next.close(3012, 'Reconnecting')\r\n                    return\r\n                }\r\n                this.reconnectTimeout = 0\r\n                this.onopen?.(ev)\r\n                while (this.bufferedSends.length) next.send(this.bufferedSends.pop()!)\r\n            })\r\n            next.addEventListener('message', ev => {\r\n                this.onmessage?.(ev)\r\n            })\r\n            next.addEventListener('error', ev => {\r\n                this.onerror?.(ev)\r\n            })\r\n            next.addEventListener('close', ev => {\r\n                this.onclose?.(ev)\r\n                if (next === this.ws) {\r\n                    this.reconnect()\r\n                }\r\n            })\r\n        } catch (e) {\r\n            console.error(e)\r\n            this.reconnect()\r\n        }\r\n    }\r\n\r\n    reconnect() {\r\n        if (this.reconnectHandle) {\r\n            clearTimeout(this.reconnectHandle)\r\n            this.reconnectHandle = null\r\n        }\r\n        this.reconnectHandle = setTimeout(() => this.performReconnect(), this.reconnectTimeout)\r\n        this.reconnectTimeout = Math.min(8000, Math.max(1000, this.reconnectTimeout) * 2)\r\n    }\r\n}\r\n","import React, { Fragment, useEffect, useRef, useState } from 'react'\nimport './App.css'\nimport { ApiClient, ILive2DParameter, Plugin, WebSocketBus } from 'vtubestudio'\nimport { BufferedWebsocket } from './utils'\n\n\nconst TOKEN_KEY = 'vtstudio-parameter-view-token'\nconst FILTER_KEY = 'vtstudio-parameter-view-filter'\nconst FAVORITES_KEY = 'vtstudio-parameter-view-favorites'\n\nfunction round(n: number): number {\n  return Math.round(n * 1000) / 1000\n}\n\nfunction App() {\n  const [connected, setConnected] = useState(false)\n  const [parameters, setParameters] = useState<ILive2DParameter[] | null>()\n  const [error, setError] = useState('')\n  const [filter, setFilter] = useState(() => localStorage.getItem(FILTER_KEY) ?? '')\n  const [favorites, setFavorites] = useState<Record<string, true>>(() => (JSON.parse(localStorage.getItem(FAVORITES_KEY) ?? '[]') as string[]).reduce((p, c) => ({ ...p, [c]: true }), {} as Record<string, true>))\n  const filterRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    const ws = new BufferedWebsocket('ws://localhost:8001')\n    const bus = new WebSocketBus(ws)\n    const client = new ApiClient(bus)\n    const initialToken = localStorage.getItem(TOKEN_KEY) ?? undefined\n    const plugin = new Plugin(client, 'Parameter View', 'Hawkbar', undefined, initialToken, token => localStorage.setItem(TOKEN_KEY, token))\n    const runToken = { active: true }\n\n    ws.addEventListener('open', () => setConnected(true))\n    ws.addEventListener('close', () => setConnected(false))\n\n    const f = async () => {\n      try {\n        const { modelLoaded, parameters } = await plugin.apiClient.live2DParameterList()\n        setParameters(modelLoaded ? parameters : null)\n        setError('')\n      } catch (e) {\n        setError('' + e)\n      }\n      requestAnimationFrame(f)\n    }\n\n    f()\n\n    return () => {\n      runToken.active = false\n    }\n  }, [])\n\n  useEffect(() => {\n    const listener = (e: KeyboardEvent) => {\n      if (e.key.length === 1) {\n        if (filterRef.current) filterRef.current.focus()\n        setFilter(filter => filter + e.key)\n      } else if (e.key === 'Backspace') {\n        if (filterRef.current) filterRef.current.focus()\n        setFilter(filter => filter.substr(0, filter.length - 1))\n      }\n    }\n\n    window.addEventListener('keydown', listener)\n    return () => window.removeEventListener('keydown', listener)\n  }, [])\n\n  const toggleFave = (name: string) => {\n    const result = { ...favorites }\n    if (result[name]) delete result[name]\n    else result[name] = true\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(Object.keys(result)))\n    setFavorites(result)\n  }\n\n  const changeFilter = (filter: string) => {\n    localStorage.setItem(FILTER_KEY, filter)\n    setFilter(filter)\n  }\n\n  const filteredParams = filter ? parameters?.filter(p => p.name.toLowerCase().includes(filter.toLowerCase())) : parameters\n\n  const sortedParams = filteredParams?.sort((a, b) => (favorites[b.name] ? 1 : 0) - (favorites[a.name] ? 1 : 0))\n\n  return (\n    <div className=\"App\">\n      {connected && !error && parameters?.length ? <>\n        <label>Filter:&nbsp;<input ref={filterRef} type=\"text\" defaultValue={filter} onChange={e => changeFilter(e.target.value)} /></label>\n        <br />\n      </> : null}\n      {connected && !error ? <div style={{ display: 'grid', gridTemplateColumns: 'auto auto 60px 1fr 60px 60px' }}>\n        <label>★</label>\n        <label>Parameter Name</label>\n        <label>Min</label>\n        <label>Range</label>\n        <label>Max</label>\n        <label>Value</label>\n        {sortedParams ? sortedParams.map((p, i) => <Fragment key={p.name + i}>\n          <div className=\"paramFave\" onClick={() => toggleFave(p.name)}>{favorites[p.name] ? '★' : '☆'}</div>\n          <div className=\"paramName\">{p.name}</div>\n          <div className=\"paramMin\">{round(p.min)}</div>\n          <input className=\"paramRange\" type=\"range\" min={p.min} max={p.max} step=\"any\" value={round(p.value)} readOnly />\n          <div className=\"paramMax\">{round(p.max)}</div>\n          <div className=\"paramValue\">{round(p.value)}</div>\n        </Fragment>) : <i>No model is currently loaded. Load a model to view Live2D parameters.</i>}\n      </div> : <i title={error}>Not connected to VTube Studio. Ensure that you are running the latest version of the VTube Studio beta on the same device as this webpage.</i>\n      }\n    </div >\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}